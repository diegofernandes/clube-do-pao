"use strict";var workDayMap={2:"Seg",3:"Ter",4:"Qua",5:"Qui",6:"Sex"};angular.module("clubeDoPaoApp",["ngCookies","ngResource","ngSanitize","ngRoute","dayOfWeekFilters","encarregadoFilters"]).config(["$routeProvider",function(a){a.when("/membros",{templateUrl:"views/membro-list.html",controller:"MembroListCtrl"}).when("/membros/new",{templateUrl:"views/membroEdit.html",controller:"MembroCreateCtrl"}).when("/membros/encarregados",{templateUrl:"views/membro-list-encarregados.html",controller:"MembroListEncarregadosCtrl"}).when("/membros/edit/:membroId",{templateUrl:"views/membroEdit.html",controller:"MembroEditCtrl"}).otherwise({redirectTo:"/membros"})}]),angular.module("clubeDoPaoApp").controller("MembroListCtrl",["$scope","$http",function(a,b){b.get("api/membro/all").success(function(b){a.membros=b})}]).controller("MembroEditCtrl",["$scope","$location","$routeParams","$http",function(a,b,c,d){d.get("api/membro/"+c.membroId).success(function(b){a.membro=b,a.weekDays=workDayMap}),a.save=function(){d.post("api/membro",a.membro).then(function(){b.path("/")})},a.destroy=function(){d.delete("api/membro/"+a.membro.id).then(function(){b.path("/")})}}]).controller("MembroCreateCtrl",["$scope","$location","$routeParams","$http",function(a,b,c,d){a.membro={disponibilidade:[]},a.weekDays=workDayMap,a.save=function(){d.post("api/membro",a.membro).then(function(){b.path("/")})}}]).controller("MembroListEncarregadosCtrl",["$scope","$http",function(a,b){a.data=new Date,a.mapSemana,a.gerar=function(){a.mapSemana={},a.warning=!1,b.get("api/membro/gerarListaEncarregadosPao/"+a.data).success(function(b){a.listaEncarregadosPao=b,angular.forEach(b.listDiaPao,function(b){b.idEncarregado||(a.warning=!0)})})}}]).directive("checkboxGroup",function(){return{transclude:!1,restrict:"A",link:function(a,b){var c=b.find("input"),d=parseInt(a.day);-1!==a.membro.disponibilidade.indexOf(d)&&$(b[0]).button("toggle",!1),b.bind("change",function(){var b=a.membro.disponibilidade.indexOf(d);c[0].checked?-1===b&&a.membro.disponibilidade.push(d):-1!==b&&a.membro.disponibilidade.splice(b,1),a.$apply(a.membro.disponibilidade.sort(function(a,b){return a-b}))})}}}),angular.module("dayOfWeekFilters",[]).filter("dayOfWeek",function(){return function(a){return a?workDayMap[a]:null}}),angular.module("encarregadoFilters",[]).filter("encarregado",function(){return function(a){return a?a:"Sem p√£o"}});